{"ts":1378829750532,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"<h1>Listing categories</h1>\n\n<table>\n  <thead>\n    <tr>\n      <th>Title</th>\n      <th>Monthly spend</th>\n      <th>Transaction ids</th>\n      <th>Reset on</th>\n      <th>Net cash</th>\n      <th>User</th>\n      <th>Spree</th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n\n  <tbody>\n    <% @categories.each do |category| %>\n      <tr>\n        <td><%= category.title %></td>\n        <td><%= category.monthly_spend %></td>\n        <td><%= category.transaction_ids %></td>\n        <td><%= category.reset_on %></td>\n        <td><%= category.net_cash %></td>\n        <td><%= category.user_id %></td>\n        <td><%= category.spree %></td>\n        <td><%= link_to 'Show', category %></td>\n        <td><%= link_to 'Edit', edit_category_path(category) %></td>\n        <td><%= link_to 'Destroy', category, method: :delete, data: { confirm: 'Are you sure?' } %></td>\n      </tr>\n    <% end %>\n  </tbody>\n</table>\n\n<br>\n\n<%= link_to 'New Category', new_category_path %>\n"]],"start1":0,"start2":0,"length1":0,"length2":982}]],"length":982}
{"contributors":[],"silentsave":false,"ts":1378829854497,"patch":[[{"diffs":[[0,"Monthly "],[-1,"spend"],[1,"Budget"],[0,"</th>\n  "]],"start1":87,"start2":87,"length1":21,"length2":22},{"diffs":[[0,"<th>"],[-1,"Transaction ids"],[1,"Budget Remaining"],[0,"</th"]],"start1":113,"start2":113,"length1":23,"length2":24},{"diffs":[[0,"ory."],[-1,"transaction_ids"],[1,"monthly_spend - category.transactions.inject(:+)"],[0," %><"]],"start1":467,"start2":467,"length1":23,"length2":56}]],"length":1017,"saved":false}
{"ts":1378829903174,"patch":[[{"diffs":[[0,"ons."],[-1,"inject(:+"],[1,"to_a.sum(&:amount"],[0,") %>"]],"start1":505,"start2":505,"length1":17,"length2":25}]],"length":1025,"saved":false}
{"ts":1378829933705,"patch":[[{"diffs":[[0,":amount)"],[1,"+category.net_cash"],[0," %></td>"]],"start1":519,"start2":519,"length1":16,"length2":34}]],"length":1043,"saved":false}
{"ts":1378830222011,"patch":[[{"diffs":[[0,"<th>"],[-1,"Spree"],[1,"</th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n\n  <tbody>\n    <% @categories.each do |category| %>\n      <tr>\n        <td><%= category.title %></td>\n        <td><%= category.monthly_spend %></td>\n        <td><%= category.monthly_spend - category.transactions.to_a.sum(&:amount)+category.net_cash %></td>\n        <td><%= category.reset_on %></td>\n        <td><%= category.net_cash %></td>\n        <td><%= category.user_id %></td>\n        <td><%= link_to 'Show', category %></td>\n        <td><%= link_to 'Edit', edit_category_path(category) %></td>\n        <td><%= link_to 'Destroy', category, method: :delete, data: { confirm: 'Are you sure?' } %></td>\n      </tr>\n    <% end %>\n  </tbody>\n</table>\n<br />\n<h1>Listing Sprees</h1>\n<table>\n  <thead>\n    <tr>\n      <th>Title</th>\n      <th>Monthly Budget</th>\n      <th>Budget Remaining</th>\n      <th>Reset on</th>\n      <th>Net cash</th>\n      <th>User"],[0,"</th"]],"start1":213,"start2":213,"length1":13,"length2":921},{"diffs":[[0,"et_cash %></td>\n"],[1,""],[0,"        <td><%= "]],"start1":1530,"start2":1530,"length1":32,"length2":32},{"diffs":[[0,"td>\n"],[-1,"        <td><%= category.spree %></td>\n"],[0,"    "]],"start1":1583,"start2":1583,"length1":47,"length2":8}]],"length":1912,"saved":false}
{"ts":1378830244701,"patch":[[{"diffs":[[0,"dy>\n    <% @"],[-1,"categori"],[1,"spre"],[0,"es.each do |"]],"start1":1212,"start2":1212,"length1":32,"length2":28}]],"length":1908,"saved":false}
{"ts":1378830313676,"patch":[[{"diffs":[[0,"th>\n"],[-1,"      <th>User</th>\n      <th></th>\n      <th></th>\n      <th></th>\n"],[0,"    "]],"start1":183,"start2":183,"length1":76,"length2":8},{"diffs":[[0,"</th>\n    </tr>\n"],[1,""],[0,"  </thead>\n\n  <t"]],"start1":181,"start2":181,"length1":32,"length2":32},{"diffs":[[0,"\n        <td><%="],[1," link_to"],[0," category.title "]],"start1":270,"start2":270,"length1":32,"length2":40},{"diffs":[[0,"o category.title"],[1,", category"],[0," %></td>\n       "]],"start1":293,"start2":293,"length1":32,"length2":42},{"diffs":[[0,"td>\n"],[-1,"        <td><%= category.user_id %></td>\n        <td><%= link_to 'Show', category %></td>\n        <td><%= link_to 'Edit', edit_category_path(category) %></td>\n        <td><%= link_to 'Destroy', category, method: :delete, data: { confirm: 'Are you sure?' } %></td>\n"],[0,"    "]],"start1":563,"start2":563,"length1":272,"length2":8},{"diffs":[[0,"th>\n"],[-1,"      <th></th>\n      <th></th>\n      <th></th>\n"],[0,"    "]],"start1":818,"start2":818,"length1":56,"length2":8},{"diffs":[[0,"\n        <td><%="],[1," link_to"],[0," category.title "]],"start1":901,"start2":901,"length1":32,"length2":40},{"diffs":[[0,"ry.title"],[1,", category"],[0," %></td>"]],"start1":932,"start2":932,"length1":16,"length2":26},{"diffs":[[0,"eset_on %></td>\n"],[1,""],[0,"        <td><%= "]],"start1":1140,"start2":1140,"length1":32,"length2":32},{"diffs":[[0,"td>\n"],[-1,"        <td><%= category.user_id %></td>\n        <td><%= link_to 'Show', category %></td>\n        <td><%= link_to 'Edit', edit_category_path(category) %></td>\n        <td><%= link_to 'Destroy', category, method: :delete, data: { confirm: 'Are you sure?' } %></td>\n"],[0,"    "]],"start1":1194,"start2":1194,"length1":272,"length2":8}]],"length":1300,"saved":false}
{"ts":1378830359612,"patch":[[{"diffs":[[0,"th>\n"],[-1,"      <th>User</th>\n"],[0,"    "]],"start1":798,"start2":798,"length1":28,"length2":8}]],"length":1280,"saved":false}
{"ts":1378831395780,"patch":[[{"diffs":[[0,"hly_"],[-1,"spend - category.transactions.to_a.sum(&:amount)+category.net_cash"],[1,"remaining"],[0," %><"]],"start1":404,"start2":404,"length1":74,"length2":17}]],"length":1223,"saved":false}
{"contributors":[],"silentsave":false,"ts":1378918654055,"patch":[[{"diffs":[[0,"    <th>"],[-1,"Budget Remaining"],[1,"Initial Cash"],[0,"</th>\n  "]],"start1":109,"start2":109,"length1":32,"length2":28},{"diffs":[[0,"ory."],[-1,"monthly_remaining %></td>\n        <td><%= category.reset_on %></td>\n        <td><%= category.net_cash %></td>\n      </tr>\n    <% end %>\n  </tbody>\n</table>\n<br />\n<h1>Listing Sprees</h1>\n<table>\n  <thead>\n    <tr>\n      <th>Title</th>\n      <th>Monthly Budget</th>\n      <th>Budget Remaining</th>\n      <th>Reset on</th>\n      <th>Net cash</th>\n    </tr>\n  </thead>\n\n  <tbody>\n    <% @sprees.each do |category| %>\n      <tr>\n        <td><%= link_to category.title, category %></td>\n        <td><%= category.monthly_spend %></td>\n        <td><%= category.monthly_spend - category.transactions.to_a.sum(&:amount)+category.net"],[1,"initial"],[0,"_cas"]],"start1":392,"start2":392,"length1":631,"length2":15},{"diffs":[[0,"dy>\n"],[-1,"</table>"],[0,"\n\n<b"]],"start1":534,"start2":534,"length1":16,"length2":8}]],"length":595,"saved":false}
{"contributors":[],"silentsave":false,"ts":1380126297437,"patch":[[{"diffs":[[0,"<h1>"],[-1,"Listing categories</h1>\n\n<table>\n  <thead>\n    <tr>\n      <th>Title</th>\n      <th>Monthly Budget</th>\n      <th>Initial Cash</th>\n      <th>Reset on</th>\n      <th>Net cash</th>\n    </tr>\n  </thead>\n\n  <tbody>\n    <% @categories.each do |category| %>\n      <tr>\n        <td><%= link_to category.title, category %></td>\n        <td><%= category.monthly_spend %></td>\n        <td><%= category.initial_cash %></td>\n        <td><%= category.reset_on %></td>\n        <td><%= category.net_cash %></td>\n      </tr>\n    <% end %>\n  </tbody>\n"],[1,"Budget Analytics</h1>\n\n<h1>Spending Summary</h1>\n\n<h2>Monthly Income</h2>\n<%= render 'summary_by_classification', :local_categories => @categories.income %>\n\n<br>\n\n<br><h2>Variable Monthly Expenses</h2>\n<%= render 'summary_by_classification', :local_categories => @categories.variable %>\n\n<br>\n\n<h2>Fixed Monthly Expenses</h2>\n<%= render 'summary_by_classification', :local_categories => @categories.fixed %>\n\n<br>\n\n<h2>Occasional Expenses</h2>\n<%= render 'summary_by_classification', :local_categories => @categories.occasional %>\n\n<br>\n\n<h2>Monthly Debt Payments</h2>\n<%= render 'summary_by_classification', :local_categories => @categories.debt %>\n\n<br>\n\n<h2>Monthly Savings</h2>\n<%= render 'summary_by_classification', :local_categories => @categories.savings %>"],[0,"\n\n<br>\n\n"],[1,"\n\n"],[0,"<%= "]],"start1":0,"start2":0,"length1":550,"length2":784},{"diffs":[[0,"ory_path %>\n"],[1,"\n"]],"start1":817,"start2":817,"length1":12,"length2":13}]],"length":830,"saved":false}
{"ts":1380126717335,"patch":[[{"diffs":[[0,"\n<br>\n\n<"],[-1,"br>"],[1,"div class=\"half\">\n    "],[0,"<h2>Vari"]],"start1":161,"start2":161,"length1":19,"length2":38},{"diffs":[[0,"y Expenses</h2>\n"],[1,"    "],[0,"<%= render 'summ"]],"start1":210,"start2":210,"length1":32,"length2":36},{"diffs":[[0,"variable %>\n"],[-1,"\n<br>\n\n"],[1,"</div>\n\n<br>\n<div class=\"half\">\n    "],[0,"<h2>Fixed Mo"]],"start1":303,"start2":303,"length1":31,"length2":60},{"diffs":[[0,"y Expenses</h2>\n"],[1,"    "],[0,"<%= render 'summ"]],"start1":367,"start2":367,"length1":32,"length2":36},{"diffs":[[0,"es.fixed %>\n"],[1,"</div>"],[0,"\n<br>\n\n<h2>O"]],"start1":457,"start2":457,"length1":24,"length2":30}]],"length":892,"saved":false}
{"ts":1380126809069,"patch":[[{"diffs":[[0,"\n</div>\n"],[-1,"<br>\n"],[1,"\n\n<div class=\"half\">"],[0,"\n<h2>Occ"]],"start1":468,"start2":468,"length1":21,"length2":36},{"diffs":[[0,"casional %>\n"],[-1,"\n<br>\n"],[1,"</div>\n\n<div class=\"half\">"],[0,"\n<h2>Monthly"]],"start1":601,"start2":601,"length1":30,"length2":50},{"diffs":[[0,"ings %>\n"],[-1,"\n<br>"],[1,"</div>\n"],[0,"\n\n\n\n<%= "]],"start1":860,"start2":860,"length1":21,"length2":23}]],"length":929,"saved":false}
{"ts":1380128052077,"patch":[[{"diffs":[[0,"Summary</h1>"],[1,"\n<ul>\n    <li>Your budget is <%= @categories.income.to_a.sum(&:monthly_spend) - @categories.not_income.to_a.sum(&:monthly_spend) < 0 \"not \" </li>\n</ul>"],[0,"\n\n<h2>Monthl"]],"start1":40,"start2":40,"length1":24,"length2":175}]],"length":1080,"saved":false}
{"ts":1380128057692,"patch":[[{"diffs":[[0,"end) < 0"],[1," ?"],[0," \"not \" "]],"start1":176,"start2":176,"length1":16,"length2":18}]],"length":1082,"saved":false}
{"ts":1380128064319,"patch":[[{"diffs":[[0,"? \"not \""],[1," %>"],[0," </li>\n<"]],"start1":185,"start2":185,"length1":16,"length2":19}]],"length":1085,"saved":false}
{"ts":1380128065714,"patch":[[{"diffs":[[0,"not \" %>"],[-1," "],[0,"</li>\n</"]],"start1":188,"start2":188,"length1":17,"length2":16}]],"length":1084,"saved":false}
{"ts":1380128101089,"patch":[[{"diffs":[[0,"t is <%="],[1,"\"not \" if"],[0," @catego"]],"start1":76,"start2":76,"length1":16,"length2":25},{"diffs":[[0," < 0"],[-1," ? \"not \""],[0," %><"]],"start1":189,"start2":189,"length1":17,"length2":8}]],"length":1084,"saved":false}
{"ts":1380128151217,"patch":[[{"diffs":[[0,") < 0 %>"],[1,"ballanced"],[0,"</li>\n</"]],"start1":188,"start2":188,"length1":16,"length2":25}]],"length":1093,"saved":false}
{"ts":1380128157447,"patch":[[{"diffs":[[0,">bal"],[-1,"l"],[0,"anced"],[1,"!"],[0,"</li"]],"start1":195,"start2":195,"length1":14,"length2":14}]],"length":1093,"saved":false}
{"ts":1380128220738,"patch":[[{"diffs":[[0,"d!</li>\n"],[1,"    <li>Your debt-to-income ratio is <%= @categories.debt.to_a.sum(&:monthly_spend)/@categories.income.to_a.sum(&:monthly_spend)</li>\n"],[0,"</ul>\n\n<"]],"start1":203,"start2":203,"length1":16,"length2":150}]],"length":1227,"saved":false}
{"ts":1380128225597,"patch":[[{"diffs":[[0,"y_spend)"],[1," %>"],[0,"</li>\n</"]],"start1":331,"start2":331,"length1":16,"length2":19}]],"length":1230,"saved":false}
{"ts":1380128260144,"patch":[[{"diffs":[[0," is <%= "],[1,"number_to_percentage("],[0,"@categor"]],"start1":244,"start2":244,"length1":16,"length2":37},{"diffs":[[0,"y_spend)"],[1,")"],[0," %></li>"]],"start1":352,"start2":352,"length1":16,"length2":17}]],"length":1252,"saved":false}
{"ts":1380128268952,"patch":[[{"diffs":[[0,"y_spend)"],[1,"*100"],[0,") %></li"]],"start1":352,"start2":352,"length1":16,"length2":20}]],"length":1256,"saved":false}
{"ts":1380128379350,"patch":[[{"diffs":[[0,"d!</li>\n"],[1,"    <li>You have a <%= @categories.income.to_a.sum(&:monthly_spend) - @categories.not_income.to_a.sum(&:monthly_spend) < 0 ? \"deficit\" : \"surplus\" %> of </li>\n"],[0,"    <li>"]],"start1":203,"start2":203,"length1":16,"length2":175}]],"length":1415,"saved":false}
{"ts":1380128432423,"patch":[[{"diffs":[[0,"if @"],[-1,"categories.income.to_a.sum(&:monthly_spend) - @categories.not_income.to_a.sum(&:monthly_spend) < 0 %>balanced!</li>\n    <li>You have a <%= @categories.income.to_a.sum(&:monthly_spend) - @categories.not_income.to_a.sum(&:monthly_spend)"],[1,"balance < 0 %>balanced!</li>\n    <li>You have a <%= @balance"],[0," < 0"]],"start1":91,"start2":91,"length1":242,"length2":68}]],"length":1241,"saved":false}
{"ts":1380128465510,"patch":[[{"diffs":[[0,"\" %> of "],[1,"<%= @balance < 0 ? @balance*(-1) : @balance %>"],[0,"</li>\n  "]],"start1":182,"start2":182,"length1":16,"length2":62}]],"length":1287,"saved":false}
{"ts":1380128467306,"patch":[[{"diffs":[[0,"lance %>"],[1,"."],[0,"</li>\n  "]],"start1":228,"start2":228,"length1":16,"length2":17}]],"length":1288,"saved":false}
{"ts":1380128954970,"patch":[[{"diffs":[[0,"<%= "],[-1,"number_to_percentage(@categories.debt.to_a.sum(&:monthly_spend)/@categories.income.to_a.sum(&:monthly_spend)*100)"],[1,"@debt_to_income"],[0," %><"]],"start1":280,"start2":280,"length1":121,"length2":23}]],"length":1190,"saved":false}
{"ts":1380128962467,"patch":[[{"diffs":[[0,"%></li>\n"],[1,"    <li>Your debt-to-income ratio is <%= @savings_to_income %></li>\n"],[0,"</ul>\n\n<"]],"start1":300,"start2":300,"length1":16,"length2":84}]],"length":1258,"saved":false}
{"ts":1380129083148,"patch":[[{"diffs":[[0," is <%= "],[1,"number_to_percentage("],[0,"@debt_to"]],"start1":276,"start2":276,"length1":16,"length2":37},{"diffs":[[0,"(@debt_to_income"],[1,"*100)"],[0," %></li>\n    <li"]],"start1":304,"start2":304,"length1":32,"length2":37},{"diffs":[[0," is <%= "],[1,"number_to_percentage("],[0,"@savings"]],"start1":367,"start2":367,"length1":16,"length2":37},{"diffs":[[0,"o_income"],[1,"*100)"],[0," %></li>"]],"start1":406,"start2":406,"length1":16,"length2":21}]],"length":1310,"saved":false}
{"ts":1380129243717,"patch":[[{"diffs":[[0,"%></li>\n"],[1,"    <li>50/30/20 Rule:</li>\n    <ul>\n        <li>Needs (Goal < 50%): <%= @categories.needs.to_a.sum(&:monthly_spend)%></li>\n        <li>Wants (Goal < 30%): <%= @categories.needs.to_a.sum(&:monthly_spend)%></li>\n        <li>Save (Goal < 20%): <%= @categories.needs.to_a.sum(&:monthly_spend)%></li>\n    </ul>\n"],[0,"</ul>\n\n<"]],"start1":420,"start2":420,"length1":16,"length2":323}]],"length":1617,"saved":false}
{"ts":1380129249318,"patch":[[{"diffs":[[0,"<%= @categories."],[-1,"need"],[1,"want"],[0,"s.to_a.sum(&:mon"]],"start1":584,"start2":584,"length1":36,"length2":36},{"diffs":[[0,"e (Goal "],[-1,"<"],[1,">"],[0," 20%): <"]],"start1":654,"start2":654,"length1":17,"length2":17},{"diffs":[[0,"<%= @categories."],[-1,"need"],[1,"save"],[0,"s.to_a.sum(&:mon"]],"start1":670,"start2":670,"length1":36,"length2":36}]],"length":1617,"saved":false}
{"ts":1380129296866,"patch":[[{"diffs":[[0,"&:monthly_spend)"],[1," - @categories.income.to_a.sum(&:monthly_spend) "],[0,"%></li>\n        "]],"start1":528,"start2":528,"length1":32,"length2":80}]],"length":1665,"saved":false}
{"ts":1380129353736,"patch":[[{"diffs":[[0,"oal < 50%): <%= "],[1,"("],[0,"@categories.need"]],"start1":485,"start2":485,"length1":32,"length2":33},{"diffs":[[0,"y_spend)"],[-1," "],[1,")/@categories.not_income.to_a.sum(&:monthly_spend)"],[0,"%></li>\n"]],"start1":584,"start2":584,"length1":17,"length2":66},{"diffs":[[0,"&:monthly_spend)"],[1,"/@categories.not_income.to_a.sum(&:monthly_spend)"],[0,"%></li>\n        "]],"start1":713,"start2":713,"length1":32,"length2":81},{"diffs":[[0,"&:monthly_spend)"],[1,"/@categories.not_income.to_a.sum(&:monthly_spend)"],[0,"%></li>\n    </ul"]],"start1":848,"start2":848,"length1":32,"length2":81}]],"length":1813,"saved":false}
{"ts":1380129432522,"patch":[[{"diffs":[[0,"<%= "],[-1,"(@categories.needs.to_a.sum(&:monthly_spend) - @categories.income.to_a.sum(&:monthly_spend))/@categories.not_income.to_a.sum(&:monthly_spend)%></li>\n        <li>Wants (Goal < 30%): <%= @categories.wants.to_a.sum(&:monthly_spend)/@categories.not_income.to_a.sum(&:monthly_spend)%></li>\n        <li>Save (Goal > 20%): <%= @categories.saves.to_a.sum(&:monthly_spend)/@categories.not_income.to_a.sum(&:monthly_spend)"],[1,"number_to_percentage(@needs*100) %></li>\n        <li>Wants (Goal < 30%): <%= number_to_percentage(@wants*100) %></li>\n        <li>Save (Goal > 20%): <%= number_to_percentage(@saves*100) "],[0,"%></"]],"start1":497,"start2":497,"length1":420,"length2":194}]],"length":1587,"saved":false}
